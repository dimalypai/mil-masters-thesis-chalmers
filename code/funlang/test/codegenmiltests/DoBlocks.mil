alias Pure_M = Error Unit ::: NonTerm;

alias IO_M = Error Unit ::: NonTerm ::: IO;

main : IO_M Unit =
  let (_ : Unit) <- let (var_0 : String -> IO Unit) <- return [IO_M] print_string in
                      let (var_1 : String) <- return [IO_M] "Hello from main" in
                        lift [IO -> IO_M] var_0 var_1 in
    let (i : Int) <- getInt in
      let (_ : Unit) <- let (var_2 : Int -> IO Unit) <- return [IO_M] print_int in
                          let (var_3 : Int) <- return [IO_M] i in
                            lift [IO -> IO_M] var_2 var_3 in
        let (f : Float) <- read_float in
          let (var_4 : Float -> IO Unit) <- return [IO_M] print_float in
            let (var_5 : Float) <- return [IO_M] f in
              lift [IO -> IO_M] var_4 var_5;

getInt : IO_M Int =
  let (_ : Int) <- return [IO_M] 0 in
    return [IO_M] 1;

